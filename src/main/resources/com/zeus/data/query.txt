DROP TABLE IF EXISTS WORD;
CREATE TABLE WORD (
    wordID INTEGER PRIMARY KEY AUTOINCREMENT,
    target TEXT NOT NULL,
    pronoun TEXT NOT NULL
);

DROP TABLE IF EXISTS MEANING;
CREATE TABLE MEANING (
    wordID INTEGER NOT NULL,
    meaningID INTEGER NOT NULL,
    target TEXT NOT NULL,
    type TEXT NOT NULL,
    PRIMARY KEY (meaningID, wordID),
    CONSTRAINT fk_wid FOREIGN KEY (wordID) REFERENCES WORD(wordID) ON UPDATE CASCADE ON DELETE CASCADE
);

DROP TABLE IF EXISTS EXAMPLE;
CREATE TABLE EXAMPLE (
    wordID INTEGER NOT NULL,
    exampleID INTEGER NOT NULL,
    meaningID INTEGER NOT NULL,
    target TEXT NOT NULL,
    CONSTRAINT fk_mid FOREIGN KEY (meaningID, wordID) REFERENCES MEANING (meaningID, wordID) ON UPDATE CASCADE ON DELETE CASCADE,
    PRIMARY KEY (meaningID, exampleID)
);